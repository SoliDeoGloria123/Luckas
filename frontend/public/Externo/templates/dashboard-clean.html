<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Principal - Luckas</title>
    
    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- CSS Principal -->
    <link rel="stylesheet" href="/Externo/static/css/dashboard-elegant.css">
    <link rel="stylesheet" href="/Externo/static/css/fixes.css">
    
    <style>
        /* CSS adicional para prevenir movimientos */
        * {
            transition: none !important;
            animation-duration: 0s !important;
            animation-delay: 0s !important;
        }
        
        body {
            overflow-x: hidden;
            position: relative;
        }
        
        .wave-background {
            display: none; /* Desactivar temporalmente las ondas animadas */
        }
        
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            width: 280px;
            height: 100vh;
            background: rgba(18, 18, 18, 0.95);
            z-index: 100;
            overflow-y: auto;
        }
        
        .main-content {
            margin-left: 280px;
            padding: 2rem;
            min-height: 100vh;
            background: var(--background);
        }
        
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        .nav-link.active {
            background: var(--accent);
            color: var(--white);
        }
        
        /* Prevenir cualquier movimiento extraño */
        .floating-element,
        .animated {
            animation: none !important;
            transform: none !important;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="/Externo/static/img/lOGO%20PROYECTO%20LuckasEnt%20de%20Kent.png" alt="Logo" class="logo">
                <h1 class="sidebar-title">Luckas</h1>
            </div>

            <div class="profile-section">
                <div class="profile-image" id="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="profile-name" id="user-name">Usuario</div>
                <div class="profile-role" id="user-role">Externo</div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-title">Principal</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" onclick="showSection('dashboard')">
                                <i class="nav-icon fas fa-tachometer-alt"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('perfil')">
                                <i class="nav-icon fas fa-user"></i>
                                Mi Perfil
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('notificaciones')">
                                <i class="nav-icon fas fa-bell"></i>
                                Notificaciones
                                <span class="notification-badge" id="notification-count">3</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Académico</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('mis-cursos')">
                                <i class="nav-icon fas fa-book"></i>
                                Mis Cursos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('eventos')">
                                <i class="nav-icon fas fa-calendar"></i>
                                Eventos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="showSection('inscripciones')">
                                <i class="nav-icon fas fa-edit"></i>
                                Inscripciones
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Sistema</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="logout()">
                                <i class="nav-icon fas fa-sign-out-alt"></i>
                                Cerrar Sesión
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content" id="main-content">
            <!-- Dashboard Principal -->
            <div id="dashboard-section" class="content-section active">
                <div class="welcome-banner">
                    <div class="welcome-content">
                        <h1 class="welcome-title">Bienvenido de vuelta</h1>
                        <p class="welcome-subtitle">Panel de control para estudiantes externos</p>
                        <div class="date-time">
                            <span id="current-date"></span>
                            <span id="current-time"></span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-book-open"></i>
                            </div>
                            <h3 class="card-title">Mis Cursos</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number" id="total-courses">0</div>
                            <div class="stat-label">Cursos Inscritos</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <h3 class="card-title">Próximos Eventos</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number" id="upcoming-events">0</div>
                            <div class="stat-label">Esta Semana</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <h3 class="card-title">Progreso</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number" id="progress-percent">75</div>
                            <div class="stat-label">% Completado</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3 class="card-title">Logros</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number" id="achievements">2</div>
                            <div class="stat-label">Certificados</div>
                        </div>
                    </div>
                </div>

                <div class="recent-activity">
                    <h2>Actividad Reciente</h2>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Nuevo curso disponible</h4>
                                <p>Se ha agregado el curso "Teología Bíblica" a tu programa académico</p>
                                <span class="activity-time">Hace 2 horas</span>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Próximo evento</h4>
                                <p>Conferencia sobre Liderazgo Cristiano - 15 de Julio</p>
                                <span class="activity-time">Hace 1 día</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Perfil -->
            <div id="perfil-section" class="content-section">
                <h2>Mi Perfil</h2>
                <div class="profile-card">
                    <h3>Información Personal</h3>
                    <div class="profile-info">
                        <p><strong>Nombre:</strong> <span id="profile-name">Cargando...</span></p>
                        <p><strong>Email:</strong> <span id="profile-email">Cargando...</span></p>
                        <p><strong>Rol:</strong> <span id="profile-role">Usuario Externo</span></p>
                        <p><strong>Fecha de registro:</strong> <span id="profile-date">Cargando...</span></p>
                    </div>
                </div>
            </div>

            <!-- Notificaciones -->
            <div id="notificaciones-section" class="content-section">
                <h2>Notificaciones</h2>
                <div class="notifications-list">
                    <div class="notification-item unread">
                        <div class="notification-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="notification-content">
                            <h4>Bienvenido al sistema</h4>
                            <p>Tu cuenta ha sido activada correctamente</p>
                            <span class="notification-time">Hace 1 hora</span>
                        </div>
                    </div>
                    
                    <div class="notification-item">
                        <div class="notification-icon">
                            <i class="fas fa-calendar"></i>
                        </div>
                        <div class="notification-content">
                            <h4>Nuevo evento disponible</h4>
                            <p>Se ha programado una nueva conferencia</p>
                            <span class="notification-time">Hace 2 días</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Eventos -->
            <div id="eventos-section" class="content-section">
                <h2>Eventos</h2>
                <div class="events-grid">
                    <div class="event-card">
                        <div class="event-header">
                            <h3>Conferencia de Liderazgo</h3>
                            <span class="event-date">15 Jul 2025</span>
                        </div>
                        <div class="event-content">
                            <p>Una conferencia sobre liderazgo cristiano efectivo en el siglo XXI</p>
                            <button class="btn btn-primary">Inscribirse</button>
                        </div>
                    </div>
                    
                    <div class="event-card">
                        <div class="event-header">
                            <h3>Seminario de Evangelización</h3>
                            <span class="event-date">22 Jul 2025</span>
                        </div>
                        <div class="event-content">
                            <p>Técnicas modernas de evangelización y alcance comunitario</p>
                            <button class="btn btn-primary">Inscribirse</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mis Cursos -->
            <div id="mis-cursos-section" class="content-section">
                <h2>Mis Cursos</h2>
                <div class="courses-grid">
                    <div class="course-card">
                        <div class="course-header">
                            <h3>Teología Sistemática</h3>
                            <span class="course-progress">75%</span>
                        </div>
                        <div class="course-content">
                            <p>Estudio completo de las doctrinas fundamentales del cristianismo</p>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 75%"></div>
                            </div>
                            <button class="btn btn-secondary">Continuar</button>
                        </div>
                    </div>
                    
                    <div class="course-card">
                        <div class="course-header">
                            <h3>Historia del Cristianismo</h3>
                            <span class="course-progress">45%</span>
                        </div>
                        <div class="course-content">
                            <p>Recorrido histórico por el desarrollo de la iglesia cristiana</p>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%"></div>
                            </div>
                            <button class="btn btn-secondary">Continuar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inscripciones -->
            <div id="inscripciones-section" class="content-section">
                <h2>Mis Inscripciones</h2>
                <div class="inscriptions-list">
                    <div class="inscription-item">
                        <h4>Programa de Teología</h4>
                        <p>Estado: <span class="status active">Activo</span></p>
                        <p>Fecha de inscripción: 1 de Enero 2025</p>
                    </div>
                    
                    <div class="inscription-item">
                        <h4>Conferencia de Liderazgo</h4>
                        <p>Estado: <span class="status pending">Pendiente</span></p>
                        <p>Fecha de inscripción: 10 de Julio 2025</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Función simple para mostrar/ocultar secciones
        function showSection(sectionName) {
            // Ocultar todas las secciones
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Remover clase active de todos los enlaces
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Mostrar la sección seleccionada
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Activar el enlace correspondiente
            const activeLink = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        // Función para actualizar fecha y hora
        function updateDateTime() {
            const now = new Date();
            const dateOptions = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit' 
            };

            const dateElement = document.getElementById('current-date');
            const timeElement = document.getElementById('current-time');

            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('es-ES', dateOptions);
            }

            if (timeElement) {
                timeElement.textContent = now.toLocaleTimeString('es-ES', timeOptions);
            }
        }

        // Función de logout
        function logout() {
            if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                window.location.href = '/';
            }
        }

        // Cargar datos del usuario
        function loadUserData() {
            // Simular carga de datos del usuario
            const user = JSON.parse(localStorage.getItem('user')) || {};
            
            const userNameElement = document.getElementById('user-name');
            const profileNameElement = document.getElementById('profile-name');
            const profileEmailElement = document.getElementById('profile-email');
            
            if (userNameElement && user.username) {
                userNameElement.textContent = user.username;
            }
            
            if (profileNameElement && user.username) {
                profileNameElement.textContent = user.username;
            }
            
            if (profileEmailElement && user.email) {
                profileEmailElement.textContent = user.email;
            }
        }

        // Inicialización cuando se carga la página
        document.addEventListener('DOMContentLoaded', function() {
            updateDateTime();
            setInterval(updateDateTime, 60000);
            loadUserData();
            
            // Verificar autenticación
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = '/';
            }
        });
    </script>
</body>
</html>
