<!DOCTYPE html>
<html lang="es" class="theme-dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Principal - Luckas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&family=Roboto:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/Externo/static/css/dashboard-elegant.css">
    <link rel="stylesheet" href="/Externo/static/css/fixes.css">
</head>

<body>
    <!-- Fondo de ondas animadas -->
    <div class="wave-background">
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="/Externo/static/img/lOGO%20PROYECTO%20LuckasEnt%20de%20Kent.png" alt="Logo" class="logo">
                <h1 class="sidebar-title">Luckas</h1>
            </div>

            <div class="profile-section">
                <div class="profile-image" id="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="profile-name" id="user-name">Usuario</div>
                <div class="profile-role" id="user-role">Externo</div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-title">Principal</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link active" data-section="dashboard">
                                <i class="nav-icon fas fa-tachometer-alt"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="perfil">
                                <i class="nav-icon fas fa-user"></i>
                                Mi Perfil
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="notificaciones">
                                <i class="nav-icon fas fa-bell"></i>
                                Notificaciones
                                <span class="notification-badge" id="notification-count">3</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Académico</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="mis-cursos">
                                <i class="nav-icon fas fa-book"></i>
                                Mis Cursos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="eventos">
                                <i class="nav-icon fas fa-calendar"></i>
                                Eventos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-section="inscripciones">
                                <i class="nav-icon fas fa-edit"></i>
                                Inscripciones
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Sistema</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#" class="nav-link" onclick="logout()">
                                <i class="nav-icon fas fa-sign-out-alt"></i>
                                Cerrar Sesión
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content" id="main-content">
            <!-- Dashboard Principal -->
            <div id="dashboard-section" class="content-section active">
                <div class="welcome-banner">
                    <div class="welcome-content">
                        <h1 class="welcome-title">Bienvenido de vuelta</h1>
                        <p class="welcome-subtitle">Panel de control para estudiantes externos</p>
                        <div class="date-time">
                            <span id="current-date"></span>
                            <span id="current-time"></span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-book-open"></i>
                            </div>
                            <h3 class="card-title">Mis Cursos</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number" id="total-courses">0</div>
                            <div class="stat-label">Cursos Inscritos</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <h3 class="card-title">Próximos Eventos</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number" id="upcoming-events">0</div>
                            <div class="stat-label">Esta Semana</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3 class="card-title">Progreso</h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-number">85%</div>
                            <div class="stat-label">Completado</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3 class="card-title">Actividad Reciente</h3>
                        </div>
                        <div class="card-content">
                            <ul class="activity-list" id="recent-activity">
                                <li class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-play"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">Completaste: Fundamentos Bíblicos</div>
                                        <div class="activity-time">Hace 2 horas</div>
                                    </div>
                                </li>
                                <li class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">Te inscribiste a: Conferencia Anual</div>
                                        <div class="activity-time">Ayer</div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <h3 class="card-title">Acciones Rápidas</h3>
                        </div>
                        <div class="card-content">
                            <div class="quick-actions">
                                <button class="action-button" onclick="showSection('eventos')">
                                    <i class="action-icon fas fa-calendar-plus"></i>
                                    Ver Eventos
                                </button>
                                <button class="action-button" onclick="showSection('perfil')">
                                    <i class="action-icon fas fa-user-edit"></i>
                                    Editar Perfil
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de Perfil -->
            <div id="perfil-section" class="content-section">
                <h2>Mi Perfil</h2>
                <div class="dashboard-card">
                    <div class="card-content">
                        <p>Información del perfil del usuario...</p>
                    </div>
                </div>
            </div>

            <!-- Sección de Notificaciones -->
            <div id="notificaciones-section" class="content-section">
                <h2>Notificaciones</h2>
                <div class="dashboard-card">
                    <div class="card-content">
                        <p>Lista de notificaciones...</p>
                    </div>
                </div>
            </div>

            <!-- Sección de Eventos -->
            <div id="eventos-section" class="content-section">
                <h2>Eventos</h2>
                <div class="dashboard-card">
                    <div class="card-content">
                        <p>Lista de eventos disponibles...</p>
                    </div>
                </div>
            </div>

            <!-- Otras secciones -->
            <div id="mis-cursos-section" class="content-section">
                <h2>Mis Cursos</h2>
                <div class="dashboard-card">
                    <div class="card-content">
                        <p>Lista de cursos inscritos...</p>
                    </div>
                </div>
            </div>

            <div id="inscripciones-section" class="content-section">
                <h2>Inscripciones</h2>
                <div class="dashboard-card">
                    <div class="card-content">
                        <p>Historial de inscripciones...</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="/Externo/static/js/dashboard-external.js"></script>
    <script>
        // Función para mostrar/ocultar secciones
        function showSection(sectionName) {
            // Ocultar todas las secciones
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Remover clase active de todos los enlaces
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Mostrar la sección seleccionada
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Activar el enlace correspondiente
            const targetLink = document.querySelector(`[data-section="${sectionName}"]`);
            if (targetLink) {
                targetLink.classList.add('active');
            }
        }

        // Event listeners para la navegación
        document.addEventListener('DOMContentLoaded', function() {
            // Navegación del sidebar
            const navLinks = document.querySelectorAll('.nav-link[data-section]');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.getAttribute('data-section');
                    showSection(section);
                });
            });

            // Actualizar fecha y hora
            function updateDateTime() {
                const now = new Date();
                const dateOptions = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                };
                const timeOptions = { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                };

                const dateElement = document.getElementById('current-date');
                const timeElement = document.getElementById('current-time');

                if (dateElement) {
                    dateElement.textContent = now.toLocaleDateString('es-ES', dateOptions);
                }
                if (timeElement) {
                    timeElement.textContent = now.toLocaleTimeString('es-ES', timeOptions);
                }
            }

            // Actualizar cada minuto
            updateDateTime();
            setInterval(updateDateTime, 60000);

            // Cargar datos del usuario si está disponible
            if (typeof loadUserData === 'function') {
                loadUserData();
            }
        });

        // Función de logout
        function logout() {
            if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                window.location.href = '/';
            }
        }
    </script>
</body>

</html>
